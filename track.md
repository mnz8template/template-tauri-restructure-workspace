```
pnpm create tauri-app
```

```
$ pnpm create tauri-app
.../1995339ded3-ae3c                     |   +2 +
.../1995339ded3-ae3c                     | Progress: resolved 12, reused 2, downloaded 0, added 2, done
✔ Project name · template-tauri-restructure-workspace
✔ Identifier · tauri.restructure.workspace
✔ Choose which language to use for your frontend · TypeScript / JavaScript - (pnpm, yarn, npm, deno, bun)
✔ Choose your package manager · pnpm
✔ Choose your UI template · React - (https://react.dev/)
✔ Choose your UI flavor · TypeScript

Template created! To get started run:
  cd template-tauri-restructure-workspace
  pnpm install
  pnpm tauri android init

For Desktop development, run:
  pnpm tauri dev

For Android development, run:
  pnpm tauri android dev


```

create Cargo.toml

```toml
[workspace]
members = ["src-tauri"]
resolver = "2"
```

create pnpm-workspace.yaml

```yaml
packages:
  - 'ui-desktop'
  - 'ui-mobile'
```

```
mkdir ui-desktop
mv src public index.html package.json tsconfig.json tsconfig.node.json vite.config.ts ./ui-desktop
```

create package.json

```
{
  "name": "template-tauri-restructure-workspace",
  "private": true,
  "version": "0.1.0",
  "scripts": {}
}
```

`ui-desktop/package.json` change the `name` field to `ui-desktop`

```
pnpm i
pnpm add -wD @tauri-apps/cli
pnpm -F ui-desktop remove @tauri-apps/cli
```

`ui-desktop/package.json` scripts delete

```
"tauri": "tauri"
```

`package.json` scripts add

```
"tauri": "tauri"
```

`.gitignore` add

```
# Generated by Cargo
# will have compiled files and executables
/target/
```

`src-tauri/tauri.conf.json` change

the `build.beforeDevCommand` field to `pnpm -F ui-desktop dev`

the `build.beforeBuildCommand` field to `pnpm -F ui-desktop build`

the `build.frontendDist` field to `../ui-desktop/dist`

create `src-tauri/tauri.mobile.conf.json`

```
{
    "$schema": "https://schema.tauri.app/config/2",
    "build": {
        "beforeDevCommand": "pnpm -F ui-mobile dev",
        "devUrl": "http://localhost:11420",
        "beforeBuildCommand": "pnpm -F ui-mobile build",
        "frontendDist": "../ui-mobile/dist"
    }
}
```

```
pnpm tauri android init -c src-tauri/tauri.mobile.conf.json
```

```
pnpm create vite
```

```
$ pnpm create vite
.../19953afe6e3-ef88                     |   +1 +
.../19953afe6e3-ef88                     | Progress: resolved 1, reused 0, downloaded 1, added 1, done
│
◇  Project name:
│  ui-mobile
│
◇  Select a framework:
│  React
│
◇  Select a variant:
│  TypeScript
│
◇  Scaffolding project in
│
└  Done. Now run:

  cd ui-mobile
  pnpm install
  pnpm run dev


```

```
pnpm i
```

copy `ui-desktop/vite.config.ts` to `ui-mobile/vite.config.ts`

change port 11420 11421

```
pnpm tauri android dev -c src-tauri/tauri.mobile.conf.json
```
